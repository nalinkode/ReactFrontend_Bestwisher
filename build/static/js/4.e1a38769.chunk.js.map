{"version":3,"sources":["services/user/UserProfileService.js","redux/actions/UserProfileAction.js","components/friend/friendSuggestion/FriendSuggestion.js","components/friend/Friend.js"],"names":["API_ENDPOINT","ENVIRONMENT_API_URL","userId","axios","get","headers","authorizationHeader","then","response","data","profile","put","GET_ALL_USER_PROFILE_ACTION","dispatch","type","GET_ALL_USER_PROFILE_REQUEST","UserProfilePostService","GET_ALL_USER_PROFILE","payload","profiles","Promise","resolve","error","GET_ALL_USER_PROFILE_REQUEST_FAIL","SET_MESSAGE","message","reject","GET_PROFILE_BY_USERID_ACTION","GET_PROFILE_BY_USERID_REQUEST","GET_PROFILE_BY_USERID","GET_PROFILE_BY_USERID_REQUEST_FAIL","UPDATE_USER_PROFILE_ACTION","UPDATE_USER_PROFILE_REQUEST","SUCCESS_UPDATE_USER_PROFILE","FAIL_UPDATE_USER_PROFILE_REQUEST","FriendSuggestion","useDispatch","useSelector","state","UserProfileReducer","currentUser","AuthenticationReducer","useEffect","id","className","length","map","eachProfile","src","profileImage","alt","to","userName","currentDesignation","onClick","friendRequest","requestFromUser","requestToUser","ADD_FRIEND_REQUEST_ACTION","toast","success","addRequest","Friend","PendingRequest","React","lazy","path","element","Suspense","fallback"],"mappings":"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","file":"static/js/4.e1a38769.chunk.js","sourcesContent":["import authorizationHeader from \"../authentication/AuthorizationHeader\";\r\nimport { ENVIRONMENT_API_URL } from \"../../constants/Environment\";\r\nimport axios from \"axios\";\r\n\r\nconst API_ENDPOINT = `${ENVIRONMENT_API_URL}/profile/`;\r\n\r\nconst getAllProfileUser = (userId) => {\r\n  return axios\r\n    .get(API_ENDPOINT + \"fetch/all/\" + userId, {\r\n      headers: authorizationHeader(),\r\n    })\r\n    .then((response) => {\r\n      return response.data.data;\r\n    });\r\n};\r\n\r\nconst getProfileByUserId = (userId) => {\r\n  return axios\r\n    .get(API_ENDPOINT + \"fetch/user/\" + userId, {\r\n      headers: authorizationHeader(),\r\n    })\r\n    .then((response) => {\r\n      return response.data.data;\r\n    });\r\n};\r\n\r\nconst updateProfileImage = (profile) => {\r\n  return axios.put(API_ENDPOINT + \"update/image\", profile, {\r\n    headers: authorizationHeader(),\r\n  });\r\n};\r\n\r\nexport default {\r\n  getAllProfileUser,\r\n  getProfileByUserId,\r\n  updateProfileImage,\r\n};\r\n","import {\r\n  SET_MESSAGE,\r\n  GET_ALL_USER_PROFILE_REQUEST,\r\n  GET_ALL_USER_PROFILE,\r\n  GET_ALL_USER_PROFILE_REQUEST_FAIL,\r\n  GET_PROFILE_BY_USERID_REQUEST,\r\n  GET_PROFILE_BY_USERID,\r\n  GET_PROFILE_BY_USERID_REQUEST_FAIL,\r\n  UPDATE_USER_PROFILE_REQUEST,\r\n  SUCCESS_UPDATE_USER_PROFILE,\r\n  FAIL_UPDATE_USER_PROFILE_REQUEST\r\n} from \"../../constants/Type\";\r\nimport UserProfilePostService from \"../../services/user/UserProfileService\";\r\n\r\nexport const GET_ALL_USER_PROFILE_ACTION = (userId) => (dispatch) => {\r\n  dispatch({\r\n    type: GET_ALL_USER_PROFILE_REQUEST,\r\n  });\r\n  return UserProfilePostService.getAllProfileUser(userId).then(\r\n    (response) => {      \r\n      dispatch({\r\n        type: GET_ALL_USER_PROFILE,\r\n        payload: { profiles: response },\r\n      });\r\n      return Promise.resolve();\r\n    },\r\n    (error) => {\r\n      dispatch({\r\n        type: GET_ALL_USER_PROFILE_REQUEST_FAIL,\r\n      });\r\n      dispatch({\r\n        type: SET_MESSAGE,\r\n        payload: error.message,\r\n      });\r\n      return Promise.reject();\r\n    }\r\n  );\r\n};\r\n\r\nexport const GET_PROFILE_BY_USERID_ACTION = (userId) => (dispatch) => {\r\n  dispatch({\r\n    type: GET_PROFILE_BY_USERID_REQUEST,\r\n  });\r\n  return UserProfilePostService.getProfileByUserId(userId).then(\r\n    (response) => {\r\n      dispatch({\r\n        type: GET_PROFILE_BY_USERID,\r\n        payload: { profile: response },\r\n      });\r\n      return Promise.resolve();\r\n    },\r\n    (error) => {\r\n      dispatch({\r\n        type: GET_PROFILE_BY_USERID_REQUEST_FAIL,\r\n      });\r\n      dispatch({\r\n        type: SET_MESSAGE,\r\n        payload: error.message,\r\n      });\r\n      return Promise.reject();\r\n    }\r\n  );\r\n};\r\n\r\nexport const UPDATE_USER_PROFILE_ACTION = (profile) => (dispatch) => {\r\n  dispatch({\r\n    type: UPDATE_USER_PROFILE_REQUEST,\r\n  });\r\n  return UserProfilePostService.updateProfileImage(profile).then(\r\n    (response) => {      \r\n      dispatch({\r\n        type: SUCCESS_UPDATE_USER_PROFILE,\r\n        payload: { profiles: response },\r\n      });\r\n      return Promise.resolve();\r\n    },\r\n    (error) => {\r\n      dispatch({\r\n        type: FAIL_UPDATE_USER_PROFILE_REQUEST,\r\n        error : error\r\n      });\r\n      dispatch({\r\n        type: SET_MESSAGE,\r\n        payload: error.message,\r\n      });\r\n      return Promise.reject();\r\n    }\r\n  );\r\n};","import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./FriendSuggestion.css\";\r\nimport { GET_ALL_USER_PROFILE_ACTION } from \"../../../redux/actions/UserProfileAction\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { ADD_FRIEND_REQUEST_ACTION } from \"../../../redux/actions/UserFriendAction\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport default function FriendSuggestion() {\r\n  const dispatch = useDispatch();\r\n  const { profiles } = useSelector((state) => state.UserProfileReducer);\r\n  const { currentUser } = useSelector((state) => state.AuthenticationReducer);\r\n\r\n  useEffect(() => {\r\n    dispatch(GET_ALL_USER_PROFILE_ACTION(currentUser.id));\r\n  }, [dispatch]);\r\n\r\n  const addRequest = (data) => {\r\n    const friendRequest = {\r\n      requestFromUser: currentUser.id,\r\n      requestToUser: data.userId,\r\n    };\r\n    dispatch(ADD_FRIEND_REQUEST_ACTION(friendRequest)).then(() => {\r\n      dispatch(GET_ALL_USER_PROFILE_ACTION(currentUser.id));\r\n      toast.success(\"Friend Request sent \" + data.userName);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <span className=\"span-text-center\">People You may know </span>\r\n      <div className=\"container-fluid mt-3 friend-suggestion\">\r\n        {profiles.length > 0 &&\r\n          profiles.map((eachProfile) => {\r\n            return (\r\n              <div\r\n                className=\"row align-items-center px-2 py-2 mt-2 suggestion-row \"\r\n                key={eachProfile.userId}\r\n              >\r\n                <div className=\"col-md-2 col-sm-2\">\r\n                  <img\r\n                    src={eachProfile.profileImage}\r\n                    alt=\"user\"\r\n                    className=\"profile-photo rounded-circle img-fluid img-thumbnail\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-md-5 col-sm-5\">\r\n                  <h5>\r\n                    <Link\r\n                      to={\r\n                        \"/home/profile/view/\" +\r\n                        eachProfile.userId +\r\n                        \"/timeline\"\r\n                      }\r\n                    >\r\n                      {eachProfile.userName}\r\n                    </Link>\r\n                  </h5>\r\n                  <p className=\"text-muted\">{eachProfile.currentDesignation}</p>\r\n                </div>\r\n\r\n                <div\r\n                  className=\"col-md-3 col-sm-3\"\r\n                  onClick={() => addRequest(eachProfile)}\r\n                >\r\n                  <button className=\"btn btn-primary pull-right btn-sm\">\r\n                    + Add Friend\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n\r\n        {profiles.length === 0 && (\r\n          <div\r\n            className=\"row align-items-center px-2 py-2 mt-2 suggestion-row \"\r\n            key=\"No-data\"\r\n          >\r\n            <div className=\"col-md-12 col-sm-12\">\r\n              <h5 className=\"text-center\">No Friend suggesstion have now</h5>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport FriendSuggestion from \"./friendSuggestion/FriendSuggestion\";\r\nimport { Routes, Route } from \"react-router-dom\";\r\n// import PendingRequest from \"./pendingRequest/PendingRequest\";\r\n\r\nexport default function Friend() {\r\n\r\n  const PendingRequest = React.lazy(() => import(\"./pendingRequest/PendingRequest\"));\r\n  \r\n  return (\r\n    <div>\r\n      <Routes>\r\n        <Route path=\"\" element={<FriendSuggestion />} />\r\n        <Route\r\n          path=\"pending_request\"\r\n          element={\r\n            <React.Suspense fallback={<div>Loading...</div>}>\r\n              <PendingRequest />\r\n            </React.Suspense>\r\n          }\r\n        />\r\n      </Routes>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}